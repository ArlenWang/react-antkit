{"ast":null,"code":"import \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\nvar _jsxFileName = \"/Users/mljfnn/Desktop/demos/react/antkit/src/views/CustomResult.jsx\";\nimport React from 'react';\nimport BackBar from '../components/BackBar';\nimport '../assets/css/CustomResult.css';\nimport CustomSelect from '../components/CustomSelect';\nimport ItemCuntom from '../components/ItemCuntom';\nimport { api } from '../config/Api';\nimport { get } from '../utils/NetWorking';\nimport { getsearch } from '../utils/Help';\n\nconst EmptyList = () => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"half\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(ItemCuntom, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n})), React.createElement(\"div\", {\n  className: \"half\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(ItemCuntom, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n})), React.createElement(\"div\", {\n  className: \"half\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(ItemCuntom, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n})), React.createElement(\"div\", {\n  className: \"half\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(ItemCuntom, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n})), React.createElement(\"div\", {\n  className: \"half\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(ItemCuntom, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n})), React.createElement(\"div\", {\n  className: \"half\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(ItemCuntom, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n})), React.createElement(\"div\", {\n  className: \"half\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, React.createElement(ItemCuntom, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n})));\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.dropFun = price => {\n      this.setState({\n        nowprice: price\n      });\n    };\n\n    const searchA = getsearch(this.props.location);\n    this.state = {\n      nowprice: searchA['price'] ? searchA['price'] : 0,\n      cids: searchA['tag'],\n      dataSource: [],\n      loading: false\n    };\n    this.lock = false;\n    this.loading = false;\n    console.log(this.state);\n  }\n\n  componentDidMount() {\n    this.netListdata(this.state.nowprice, this.state.cids);\n  }\n\n  componentWillUnmount() {\n    this.lock = true;\n  }\n\n  loadingEnd() {\n    this.loading = false;\n    if (!this.lock) this.setState({\n      loading: false\n    });\n  }\n\n  loadingStart() {\n    this.loading = true;\n    this.setState({\n      loading: true\n    });\n  }\n\n  netListdata(price, cids) {\n    let req = \"?price=\" + price + \"&cid_list=\" + cids;\n    let thisUrl = api.cunstom_list + req;\n    if (this.loading) return;\n    this.loadingStart();\n    get(thisUrl, res => {\n      this.loadingEnd(); //console.log(res);\n\n      if (res && res['result'] === 'success') {\n        this.setState({\n          dataSource: res['data']\n        });\n      } else {\n        if (res && res['message']) _Toast.fail(res['message'], 1);\n      }\n    }, erro => {\n      this.loadingEnd();\n      console.log(erro);\n    });\n  }\n\n  render() {\n    const _this$props = this.props,\n          history = _this$props.history,\n          location = _this$props.location;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(BackBar, {\n      history: history,\n      title: \"\\u81EA\\u5B9A\\u4E49\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"CustomResultBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(CustomSelect, {\n      price: 110,\n      dropFun: this.dropFun,\n      location: location,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"CustomResultTxt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"\\u8D2D\\u7269\\u6D25\\u8D34\\u51D1\\u5355\\u662F\\u6839\\u636E\\u539F\\u4EF7\\u8BA1\\u7B97\\u54E6\\uFF5E\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), \"\\u53EF\\u4EE5\\u4EE5\\u5238\\u540E\\u4EF7\\u5165\\u624B\\uFF0C\\u8FBE\\u5230\\u6EE1\\u51CF\\u7684\\u8981\\u6C42\\u54E6\\uFF5E\"), React.createElement(\"div\", {\n      className: \"CustomResultList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(ItemCuntom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(ItemCuntom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(ItemCuntom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(ItemCuntom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(ItemCuntom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(ItemCuntom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/mljfnn/Desktop/demos/react/antkit/src/views/CustomResult.jsx"],"names":["React","BackBar","CustomSelect","ItemCuntom","api","get","getsearch","EmptyList","App","Component","constructor","props","dropFun","price","setState","nowprice","searchA","location","state","cids","dataSource","loading","lock","console","log","componentDidMount","netListdata","componentWillUnmount","loadingEnd","loadingStart","req","thisUrl","cunstom_list","res","fail","erro","render","history"],"mappings":"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","sourcesContent":["import React from 'react';\nimport BackBar from '../components/BackBar';\nimport '../assets/css/CustomResult.css';\nimport CustomSelect from '../components/CustomSelect';\nimport ItemCuntom from '../components/ItemCuntom';\nimport { api } from '../config/Api';\nimport { get } from '../utils/NetWorking';\nimport { getsearch } from '../utils/Help';\nimport { Toast } from 'antd-mobile';\nconst EmptyList=()=>(<div><div className=\"half\"><ItemCuntom/></div><div className=\"half\"><ItemCuntom/></div><div className=\"half\"><ItemCuntom/></div><div className=\"half\"><ItemCuntom/></div><div className=\"half\"><ItemCuntom/></div><div className=\"half\"><ItemCuntom/></div><div className=\"half\"><ItemCuntom/></div></div>)\nclass App extends React.Component {\n    constructor(props){\n      super(props);\n      const searchA=getsearch(this.props.location);\n      this.state={\n        nowprice:searchA['price']?searchA['price']:0,\n        cids:searchA['tag'],\n        dataSource:[],\n        loading:false,\n      }\n      this.lock=false;\n      this.loading=false;\n      console.log(this.state);\n    }\n    dropFun=(price)=>{\n      this.setState({nowprice:price});\n    }\n    componentDidMount(){\n      this.netListdata(this.state.nowprice,this.state.cids);\n    }\n    componentWillUnmount(){\n      this.lock=true;\n    }\n    loadingEnd(){\n      this.loading=false;\n      if(!this.lock)this.setState({loading:false});\n    }\n    loadingStart(){\n      this.loading=true;\n      this.setState({loading:true});\n    }\n    netListdata(price,cids){\n     let req=\"?price=\"+price+\"&cid_list=\"+cids;\n     let thisUrl=api.cunstom_list+req;\n      if(this.loading)return;\n      this.loadingStart();\n      get(thisUrl,(res)=>{\n        this.loadingEnd();\n        //console.log(res);\n        if(res&&res['result']==='success'){\n          this.setState({dataSource:res['data']});\n        }else{\n          if(res&&res['message'])Toast.fail(res['message'], 1);\n        }\n      },(erro)=>{\n        this.loadingEnd();\n        console.log(erro);\n      });\n    }\n    render() {\n      const { history,location }=this.props;\n        return(\n          <div className=\"App\">\n            <BackBar history={history} title=\"自定义\"/>\n            <div className=\"CustomResultBox\">\n              <CustomSelect price={110} dropFun={this.dropFun} location={location}/>\n              <div className=\"CustomResultTxt\">购物津贴凑单是根据原价计算哦～<br/>\n               可以以券后价入手，达到满减的要求哦～</div>\n               <div className=\"CustomResultList\">\n                   <div className=\"half\"><ItemCuntom/></div>\n                   <div className=\"half\"><ItemCuntom/></div>\n                   <div className=\"half\"><ItemCuntom/></div>\n                   <div className=\"half\"><ItemCuntom/></div>\n                   <div className=\"half\"><ItemCuntom/></div>\n                   <div className=\"half\"><ItemCuntom/></div>\n               </div>\n           </div>\n          </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}