{"ast":null,"code":"import \"antd-mobile/lib/input-item/style/css\";\nimport _InputItem from \"antd-mobile/lib/input-item\";\nimport \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\nvar _jsxFileName = \"/Users/mljfnn/Desktop/demos/react/antkit/src/views/CustomOrder.jsx\";\nimport React from 'react';\nimport '../assets/css/CustomOrder.css';\nimport BackBar from '../components/BackBar';\nimport TagBtn from '../components/TagBtn';\nimport TagTwoBtn from '../components/TagTwoBtn';\nimport compact from 'lodash/compact';\n\nclass CustomOrder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeTagFun = (v, sta) => {\n      let tagStaA = [...this.state.tagSta];\n      tagStaA[v] = sta;\n      this.setState({\n        tagSta: tagStaA\n      }); //console.log(this.state.tagSta);\n    };\n\n    this.resetFun = () => {\n      this.setState({\n        tagSta: []\n      });\n    };\n\n    this.submitFun = () => {\n      if (this.state.inputvalue === \"\") {\n        _Toast.fail(\"请输入金额\", 1);\n\n        return;\n      }\n\n      let tagStaA = compact(this.state.tagSta);\n\n      if (tagStaA.length < 1) {\n        _Toast.fail(\"请选择商品种类\", 1);\n\n        return;\n      }\n\n      let tagStr = this.getTagIds(this.state.tagSta);\n      let req = \"/customresult?price=\" + this.state.inputvalue + \"&tag=\" + tagStr;\n      console.log(req); //this.props.history.push(req);\n    };\n\n    this.changeInput = val => {\n      this.setState({\n        inputvalue: val\n      });\n    };\n\n    this.state = {\n      tagData: [{\n        title: \"手机\",\n        id: 1\n      }, {\n        title: \"运动\",\n        id: 2\n      }, {\n        title: \"数码\",\n        id: 3\n      }, {\n        title: \"家具\",\n        id: 4\n      }, {\n        title: \"食品\",\n        id: 5\n      }, {\n        title: \"彩妆\",\n        id: 6\n      }, {\n        title: \"女装\",\n        id: 7\n      }, {\n        title: \"电器\",\n        id: 8\n      }, {\n        title: \"母婴\",\n        id: 9\n      }],\n      tagSta: [],\n      inputvalue: \"\"\n    };\n  }\n\n  getTagIds(array) {\n    let tagA = [];\n\n    for (let index = 0; index < array.length; index++) {\n      const element = array[index];\n      if (element) tagA.push(this.state.tagData[index]['id']);\n    }\n\n    return tagA.join(\",\");\n  }\n\n  render() {\n    const history = this.props.history;\n    let tagStaA = compact(this.state.tagSta);\n    let isSetable = tagStaA.length > 0 ? true : false;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(BackBar, {\n      history: history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"CustomOrderTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"\\u51D1\\u5355\\u91D1\\u989D\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"(\\u4F1A\\u5728\\u8FD9\\u4E2A\\u91D1\\u989D\\u768410\\u5143\\u5DE6\\u53F3\\u6D6E\\u52A8)\")), React.createElement(\"div\", {\n      className: \"CustomOrderInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(_InputItem, {\n      placeholder: \"\\u8F93\\u5165\\u8FD8\\u9700\\u8981\\u51D1\\u5355\\u7684\\u91D1\\u989D\",\n      value: this.state.inputvalue,\n      onChange: this.changeInput,\n      type: \"number\",\n      pattern: \"[0-9]*\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"CustomOrderTitle\",\n      style: {\n        marginTop: \"35px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"\\u5546\\u54C1\\u79CD\\u7C7B\"), React.createElement(\"div\", {\n      className: \"CustomOrderTag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.state.tagData.map((item, index) => React.createElement(\"div\", {\n      className: \"CustomOrderCrid\",\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(TagBtn, {\n      title: item.title,\n      tagIndex: index,\n      onChange: this.changeTagFun,\n      isActive: this.state.tagSta[index],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"CustomOrderSubmit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(TagTwoBtn, {\n      resetAble: isSetable,\n      reset: this.resetFun,\n      submit: this.submitFun,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default CustomOrder;","map":{"version":3,"sources":["/Users/mljfnn/Desktop/demos/react/antkit/src/views/CustomOrder.jsx"],"names":["React","BackBar","TagBtn","TagTwoBtn","compact","CustomOrder","Component","constructor","props","changeTagFun","v","sta","tagStaA","state","tagSta","setState","resetFun","submitFun","inputvalue","fail","length","tagStr","getTagIds","req","console","log","changeInput","val","tagData","title","id","array","tagA","index","element","push","join","render","history","isSetable","marginTop","map","item"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../assets/css/CustomOrder.css';\nimport BackBar from '../components/BackBar';\nimport {InputItem,Toast } from 'antd-mobile';\nimport TagBtn from '../components/TagBtn';\nimport TagTwoBtn from '../components/TagTwoBtn';\nimport compact from 'lodash/compact';\nclass CustomOrder extends React.Component {\n    constructor(props){\n      super(props);\n      this.state={\n        tagData:[\n          {title:\"手机\",id:1},\n          {title:\"运动\",id:2},\n          {title:\"数码\",id:3},\n          {title:\"家具\",id:4},\n          {title:\"食品\",id:5},\n          {title:\"彩妆\",id:6},\n          {title:\"女装\",id:7},\n          {title:\"电器\",id:8},\n          {title:\"母婴\",id:9},\n        ],\n        tagSta:[],\n        inputvalue:\"\",\n      }\n    }\n    changeTagFun=(v,sta)=>{\n      let tagStaA=[...this.state.tagSta];\n      tagStaA[v]=sta;\n      this.setState({tagSta:tagStaA});\n      //console.log(this.state.tagSta);\n    }\n    resetFun=()=>{\n      this.setState({tagSta:[]});\n    }\n    submitFun=()=>{\n      if(this.state.inputvalue===\"\"){\n        Toast.fail(\"请输入金额\",1);\n        return;\n      }\n      let tagStaA=compact(this.state.tagSta);\n      if(tagStaA.length<1){\n        Toast.fail(\"请选择商品种类\",1);\n        return;\n      }\n      let tagStr=this.getTagIds(this.state.tagSta);\n      let req=\"/customresult?price=\"+this.state.inputvalue+\"&tag=\"+tagStr;\n      console.log(req);\n      //this.props.history.push(req);\n    }\n    getTagIds(array){\n      let tagA=[];\n      for (let index = 0; index < array.length; index++) {\n        const element = array[index];\n        if(element)tagA.push(this.state.tagData[index]['id']);\n      }\n      return tagA.join(\",\");\n    }\n    changeInput=(val)=>{\n      this.setState({inputvalue:val});\n    }\n    render() {\n       const { history }=this.props;\n        let tagStaA=compact(this.state.tagSta);\n        let isSetable=tagStaA.length>0?true:false;\n        return(\n          <div className=\"App\">\n             <BackBar history={history}/>\n             <div className=\"CustomOrderTitle\">凑单金额<span>(会在这个金额的10元左右浮动)</span></div>\n             <div className=\"CustomOrderInput\"><InputItem placeholder=\"输入还需要凑单的金额\" value={this.state.inputvalue} onChange={this.changeInput} type=\"number\" pattern=\"[0-9]*\"/></div>\n             <div className=\"CustomOrderTitle\" style={{marginTop:\"35px\",}}>商品种类</div>\n             <div className=\"CustomOrderTag\">\n               {this.state.tagData.map((item,index)=>(<div className=\"CustomOrderCrid\" key={index}>\n                 <TagBtn title={item.title} tagIndex={index} onChange={this.changeTagFun} isActive={this.state.tagSta[index]}/></div>))}\n               <div className=\"CustomOrderSubmit\"><TagTwoBtn resetAble={isSetable} reset={this.resetFun} submit={this.submitFun}/></div>\n             </div>\n          </div>\n        );\n    }\n}\n\nexport default CustomOrder;\n"]},"metadata":{},"sourceType":"module"}